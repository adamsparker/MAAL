var modalBtns = document.querySelectorAll('.modal-able');

modalBtns.forEach(function(btn){
    btn.onclick = function(){
    var modal = btn.getAttribute('data-modal');

    document.getElementById(modal).style.display = "flex";
  };
});   

var closeBtns = document.querySelectorAll(".modal__close");

closeBtns.forEach(function(btn){
btn.onclick = function(){
  var modal = (btn.closest(".modal-holder").style.display = "none");
  };
});

document.addEventListener('mousemove', parallax);
function parallax(e){
  this.querySelectorAll('.layer').forEach(layer =>{
    var speed = layer.getAttribute('data-speed');
    var x     = (window.innerWidth - e.pageX * speed)/100;
    var y     = (window.innerWidth - e.pageY * speed)/100;
    layer.style.transform = `translateX(${x}px) translateY(${y}px)`

  });
}

const content = [
  { text: '1. Гражданское законодательство основывается на признании равенства участников регулируемых им отношений, неприкосновенности собственности, свободы договора, недопустимости произвольного вмешательства кого-либо в частные дела, необходимости беспрепятственного осуществления гражданских прав, обеспечения восстановления нарушенных прав, их судебной защиты.' },
  { text: '2. Граждане (физические лица) и юридические лица приобретают и осуществляют свои гражданские права своей волей и в своем интересе. Они свободны в установлении своих прав и обязанностей на основе договора и в определении любых не противоречащих законодательству условий договора..' },
  { text: '3. При установлении, осуществлении и защите гражданских прав и при исполнении гражданских обязанностей участники гражданских правоотношений должны действовать добросовестно.' },
  { text: '4. Никто не вправе извлекать преимущество из своего незаконного или недобросовестного поведения.' },
  { text: '5. Товары, услуги и финансовые средства свободно перемещаются на всей территории Российской Федерации.' },
  { text: '6. На основании и во исполнение настоящего Кодекса и иных законов, указов Президента Российской Федерации Правительство Российской Федерации вправе принимать постановления, содержащие нормы гражданского права.' },
  { text: '7. В случае противоречия указа Президента Российской Федерации или постановления Правительства Российской Федерации настоящему Кодексу или иному закону применяется настоящий Кодекс или соответствующий закон..' },
  { text: '8. Действие и применение норм гражданского права, содержащихся в указах Президента Российской Федерации и постановлениях Правительства Российской Федерации (далее - иные правовые акты), определяются правилами настоящей главы.. Никто не вправе извлекать преимущество из своего незаконного или недобросовестного поведения.' },
  { text: '9. По отношениям, возникшим до введения в действие акта гражданского законодательства, он применяется к правам и обязанностям, возникшим после введения его в действие. Отношения сторон по договору, заключенному до введения в действие акта гражданского законодательства, регулируются в соответствии со статьей 422 настоящего Кодекса.' },
  { text: '10. Министерства и иные федеральные органы исполнительной власти могут издавать акты, содержащие нормы гражданского права, в случаях и в пределах, предусмотренных настоящим Кодексом, другими законами и иными правовыми актами.' },

];

function displayResults(query) {
  const resultsContainer = document.getElementById('results');
  resultsContainer.innerHTML = '';

  content.forEach((item, index) => {
    if (item.text.toLowerCase().includes(query.toLowerCase())) {
      const block = document.createElement('div');
      block.classList.add('content-block');
      block.textContent = `${index + 1}. ${item.text}`;
      resultsContainer.appendChild(block);
    }
  });
}

document.getElementById('search').addEventListener('input', function(event) {
  const query = event.target.value;
  displayResults(query);
});